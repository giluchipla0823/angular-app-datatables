<div class="page-header">
	<h1>Libros</h1>
</div>

<form (ngSubmit)="reloadData(true)">
	<div class="form-group">
		<label for="search_title">TÃ­tulo</label>
		<input type="text"
			   id="search_title"
			   name="search_title"
			   class="form-control"
			   [(ngModel)]="form.data.title" />
	</div>

	<div class="form-groupm">
		<label>Autor</label>
      	<select2 #selector [data]="authors.data" 
               	 [options]="options"
                 (valueChanged)="eventChangeAuthor($event)">
     		<option></option>
         </select2>
	</div>

	<div class="form-group">
		<button type="submit"
				class="btn btn-primary">
			Buscar			
		</button>
	</div>

	<pre>{{ form.data | json }}</pre>
</form>

<div class="form-group">
	<button type="button"
			class="btn btn-primary"
			(click)="reloadData(true)">
		Recargar
	</button>
</div>

<div class="panel panel-default panel-datatables">
	<div class="panel-heading clearfix">
		<div class="pull-left">
			<h3 class="panel-title">Listado de Libros</h3>
		</div>
		<div class="pull-right">
			<div class="pull-left">
				<button type="button"
						class="btn btn-success"
						(click)="openModal({})">
						<i class="glyphicon glyphicon-plus-sign"></i> 
						Agregar
				</button>
			</div>
			<div class="pull-left dt-select-length"></div>
		</div>
	</div>
	<table #dataTable class="table table-striped" id="dt-example" style="width: 100%;"></table>
	<div class="panel-footer">
		<div class="row">
            <div class="col-md-5 dt-info-results"></div>
            <div class="col-md-7 dt-pagination"></div>
        </div>
	</div>
</div>

<ng-template #template>
	<app-books-modal [modal]="modalRef" [authors]="authors.data"></app-books-modal>
</ng-template>